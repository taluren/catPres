


<!doctype html>
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <title>Pres</title>
        <style>
        </style>
    </head>
    <body>
	 
   <script src="./d3.v4.js"></script>
   <!--script src="file://c:/Users/Laurent/Documents/MathJax-2.7.0/MathJax-2.7.0/MathJax.js?config=TeX-MML-AM_SVG" ></script-->
   <!--script type="text/javascript" async
  src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-MML-AM_SVG"-->
</script>
  <script src="./pres.js"></script>
  <script src="./pres-codex.js"></script>
  <script src="./pres-layout.js"></script>
  <script src="./pres-text.js"></script>
  <script src="./pres-helpLines.js"></script>
  <script src="./pres-camera.js"></script>
  <script src="./pres-frameStyle.js"></script>
  <script src="./pres-transition.js"></script>
  <script src="./pres-graph.js"></script>
  <script>
     window.addEventListener("load", function(event) {  
	      
			
		fm=frameManager({screenBackground:"black"});
		fm.frame("Pres.html", {model:"titleFrame"})
			.append("text")
				.print("---")
			.up("#main")
			.append("text")
				.print("---")
				

		
		 
		fm.frame("Array")	
		 
		 
		fm.append("array", {}, {cols:"*l80l50ll25%l20l20*", rows:"*m30*t1x*t1x*b20"})
		      .decoration("background",{fill:"#AAF"})
				.print("l80m30&l50&l&l25%&l20&l20\\\\"+
				"t1x&a&bbbb&c&d&e\\\\"+
				"t1x&a$x^2$&b&cc\ncc&d&e\\\\"+
				"b20&a&b&c&d-----&e")
		
		
		
		fm.frame("Text")
		
		//console.log(
		fm.append("g", {width:"fill"})
		  .append("text#1", {width:200})
		    .print("Items :")
			 .print("\nFirst,"+
						"\n   with some math $\\sqrt{\\left(x^{2}+y^2\\right)}$..."+
						"\n$\\alpha = \\frac{b \\pm \\sqrt{b^2-4ac}}{2a}$", {bullet:1})
		//    .goto("#1")
		//	   .down("sweetTextLine").lm.debug=true;
		//drawItemTree(fm.goto("#1"), {opacity:0.33});
		fm.nextOverlay();
		
		fm.append("text", {align:"right"})
			 .print("A paragraph, align : \"right\",\n"+
						"with some math $\\sqrt{\\left(x^{2}+y^2\\right)}$...\n"+
						"$\\alpha = \\frac{b \\pm \\sqrt{b^2-4ac}}{2a}$\n")
			 .print("Kerning : AV = A").print("V.");
		fm.nextOverlay();
		fm.goto("#1")
		    .print("\nSmaller items\n yeah!", {bullet:2})
		  .up("#root")
		    .append("caption",{color:"darkgreen"},"Here be a caption");   
		
		fm.frame("Shapes")
		   .goto("#foreground")
				.append("rect", {x:5, y:100})
				.then("circle", {x:-50})
				.then("path", {d:"M0,0 l100,23 l34,-45 l-87,0 z"})
					
		fm.frame("Overlays")
		  // .goto("#foreground")
				.append("array#a", {}, {rows:"m1x", cols:"lc50"})
				.decoration("border")
				
				.print(".on(1, {fill:\"red\"})\\\\"+
				".on([2,3], {r:2})\\\\"+
				".on([3], {opacity:0.5})\\\\"+
				".on([1], {fill:\"yellow\"})\n.on(2, {fill:\"red\"})")
				.cell(1,0)
					//.decoration("border")
					.append("circle")
					.on(1, {fill:"red"})
					.up("array")				
				.cell(1,1)
					.append("circle")
					.on([2,3], {r:2})
					.up("array")				
				.cell(1,2)
					.append("circle")
					.on([3], {opacity:0.5})
					.up("array")				
				.cell(1,3)
					.append("circle")
					.on([1], {fill:"yellow"})
					.on(2, {fill:"red"})
					.up("array")				
			.then("svgtext", {text:"0"})		
					.on(1, {text:"1"})
					.on(2, {text:"2"})
					.on(3, {text:"3"})
					.on([4], {text:"4"})
					
		fm.nextOverlay();		 
	//	console.log(fm.topF.hasSchedule())			
		fm.frame("Frame model: simple", {model:"simple"})
		  .append("text", {align:"center"})
			.print("Models:\n", {weight:"bold"})
			.print("empty\nbase\ntitleFrame\nbeamer");
		fm.frame("Lace")
		   .goto("#foreground")
		   .append("lace",{}, {size:41})
			    .nodes()
				 .set(function(i,j) {return {x:(j-20)*9, r:3.5};})
				 .on([1], function(i,j) {return {y:Math.sin(j/3)*60, fill:"#88"+(j*200/40+16).toString(16)+(255-j*200/40).toString(16)};})		 
				 .on([2], function(i,j) {return {y:Math.sin(j/3+1.5)*60};})
				 .on([3], function(i,j) {return {y:Math.sin(j/3+3)*60};})
		fm.nextOverlay()
		  .goto("lace").set({transition:{duration:1000}}).log("--", ["transition", ])
		//.transition(function() {return d3.transition("aaa").duration(3000)});
		fm.nextOverlay()		 
		  .goto("lace")// .allNodes()
		   .set({transition:{duration:2500}})		 
		   
		fm.nextOverlay()		 
    	  .goto("lace")// .allNodes()
		   .set({transition:{duration:2500}})		 
		//fm.goto("lace").transition(d3.transition().duration(3));
		//fm.goto("lace").transition(d3.transition().duration(3000));
		
		
        fm.frame("Graph")
          .append("graph",{},{simulation:true,seed:0.7259184720682743})
          .setNodeStyle({stroke:"blue"})
          .addLinks("1-2;1-4;1-5;1-9;1-10")
          .setNodeStyle({stroke:null})          
          .addLinks("2-5;2-6;2-7;2-8;2-9;3-7;3-8;3-9")
          ;
        fm.nextOverlay()
		  .goto("graph")
            .setLinkStyle({stroke:"red", dash:5})
            .addLinks("9-11;3-11;4-11");
           ; 
        fm.nextOverlay()
          .goto("graph")
            .getNode("2")
              .hide()
          .goto("graph")
            .getLinks("4-11;1-9")
              .hide()
           ;

        
        fm.frame("Graph-2")
          .append("text#def")//.decoration("background",{fill:"#AAF"})
            .print("Vertex Cover:",{weight:"bold"})
            
        fm.append("horizontalVector#hv")
           .append("box#boxg1")
            .append("graph",{},{simulation:true, seed:0.2856390579108874})
            .setNodeStyle({fill:"#eef", color:"#008"})
            .setLinkStyle({stroke:"#66A"})
            .addLinks("1-2;1-4;1-5;1-9;1-10;2-5;2-6;2-7;2-8;2-9;3-7;3-8;3-9;3-11;3-12;1-11")   
        
        function selectNodeForVC(graph, id) {
          graph.getNode(id)
           .set({stroke:"black", fill:"#ccc", color: "black"})
          graph. getNeighborLinks(id)
            .set({stroke:"black", strokeWidth:2});
        }
        
        fm.nextOverlay()
           .goto("#def")
            .print(" set of vertices covering all edges")
        selectNodeForVC(fm.goto("graph"), "1");
        fm.nextOverlay()
        selectNodeForVC(fm.goto("graph"), "2");
        fm.nextOverlay()
        selectNodeForVC(fm.goto("graph"), "3");
        fm.nextOverlay()
           .goto("#def")
            .print("\nKernel: ",{weight:"bold"})
            .print(" smaller instance (size f(k)) equivalent to the original")
            .print("\n(same spirit as sketches, in an exact setting)", {align:"center",color:"#888"})
           .goto("#hv")
            .append("text").print("==>")
           .goto("#hv")
            .append("box")
              .append("graph#kernel",{},{simulation:true, seed:0.2856390579108874})
              .setNodeStyle({fill:"#eef", color:"#008"})
              .setLinkStyle({stroke:"#66A"})
              .addLinks("1-2;1-5;1-9;2-5;2-7;2-8;2-9")   
             .then("caption",{text:"k=2", y:90})  
           .goto("#boxg1")  
             .append("caption",{text:"k=3", y:90})  
        fm.nextOverlay()
        
		fm.frame("Generalities")
		  .append("text")
		    .print("call order on new frame:")
              .print("\n  onLoad (prefix)",{bullet:1})
              .print("\n onDraw (prefix)",{bullet:1})
              .print("\n  onDrawPostOrder (suffix)",{bullet:1})            
              .print("\n onLayout (suffix)",{bullet:1})
		   ;
		fm.localImport="./math.json";
		fm.run();
	});
		 

  </script>
    </body>
</html>
